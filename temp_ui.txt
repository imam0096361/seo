{/* ğŸ†• NEW FEATURES START HERE */}

{/* Dashboard Summary - FIRST THING THEY SEE */}
{result.dashboard && (
  <div className="bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-400 rounded-xl shadow-ds-lg p-6">
    <h3 className="text-2xl font-bold text-green-700 mb-4 flex items-center gap-2">
      ğŸ“Š SEO Specialist Dashboard
      <span className="text-xs font-normal bg-green-700 text-white px-2 py-1 rounded">NEW!</span>
    </h3>

    <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
      <div className="bg-ds-white p-4 rounded-lg border border-green-300 shadow-sm">
        <div className="text-sm text-ds-medium">Overall SEO Score</div>
        <div className="text-4xl font-bold text-green-600">{result.dashboard.overallSEOScore}/100</div>
        <div className={`text-sm font-bold mt-2 ${result.dashboard.readinessForPublish ? 'text-green-600' : 'text-orange-600'}`}>
          {result.dashboard.readinessForPublish ? 'âœ… Ready to Publish' : 'âš ï¸ Needs Optimization'}
        </div>
      </div>

      <div className="bg-ds-white p-4 rounded-lg border border-blue-300 shadow-sm">
        <div className="text-sm text-ds-medium">Estimated Traffic</div>
        <div className="text-lg font-bold text-blue-600 mt-2">{result.dashboard.estimatedTraffic}</div>
        <div className="text-xs text-ds-medium mt-1">Monthly visits potential</div>
      </div>

      <div className="bg-ds-white p-4 rounded-lg border border-purple-300 shadow-sm">
        <div className="text-sm text-ds-medium">Competitive Edge</div>
        <div className="text-sm font-bold text-purple-600 mt-2">{result.dashboard.competitiveEdge}</div>
      </div>
    </div>

    {result.dashboard.criticalIssues > 0 && (
      <div className="bg-red-50 border border-red-300 p-3 rounded mb-4">
        <div className="text-red-700 font-bold">âš ï¸ {result.dashboard.criticalIssues} Critical Issues Found</div>
      </div>
    )}

    <div className="bg-ds-white p-4 rounded border border-green-200">
      <h4 className="font-bold text-green-700 mb-2">ğŸ¯ Top Recommendations:</h4>
      <ul className="space-y-1">
        {result.dashboard.recommendations.map((rec, i) => (
          <li key={i} className="text-sm text-ds-dark">â€¢ {rec}</li>
        ))}
      </ul>
    </div>
  </div>
)}

{/* Complete Metadata */}
{result.metadata && (
  <div className="bg-ds-white border border-purple-400 rounded-xl shadow-ds-lg p-6">
    <div className="flex items-center justify-between mb-4">
      <h3 className="text-2xl font-bold text-purple-700 flex items-center gap-2">
        ğŸ·ï¸ Complete Metadata Package
        <span className="text-xs font-normal bg-purple-700 text-white px-2 py-1 rounded">NEW!</span>
      </h3>
      <button
        onClick={() => {
          navigator.clipboard.writeText(result.metadata!.htmlTags);
          alert('âœ… All meta tags copied! Paste into your CMS.');
        }}
        className="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors"
      >
        ğŸ“‹ Copy All Meta Tags
      </button>
    </div>

    <div className="bg-purple-50 p-4 rounded border border-purple-200 mb-4">
      <h4 className="font-bold text-purple-700 mb-2">Open Graph (Facebook/LinkedIn)</h4>
      <div className="text-sm text-ds-dark space-y-1">
        <div><strong>Title:</strong> {result.metadata.openGraph.ogTitle}</div>
        <div><strong>Description:</strong> {result.metadata.openGraph.ogDescription}</div>
        <div className="text-xs text-ds-medium">Image: {result.metadata.openGraph.ogImage}</div>
      </div>
    </div>

    <div className="bg-blue-50 p-4 rounded border border-blue-200 mb-4">
      <h4 className="font-bold text-blue-700 mb-2">Twitter Card</h4>
      <div className="text-sm text-ds-dark space-y-1">
        <div><strong>Title:</strong> {result.metadata.twitter.title}</div>
        <div><strong>Description:</strong> {result.metadata.twitter.description}</div>
      </div>
    </div>

    <details className="bg-gray-50 p-4 rounded border border-gray-200">
      <summary className="font-bold text-gray-700 cursor-pointer hover:text-gray-900">
        ğŸ“ View Full HTML Tags (Click to expand)
      </summary>
      <pre className="mt-2 text-xs bg-ds-white p-3 rounded overflow-x-auto border border-gray-300 max-h-96">
        {result.metadata.htmlTags}
      </pre>
    </details>
  </div>
)}

{/* Headline Suggestions */}
{result.headlines && result.headlines.variants && result.headlines.variants.length > 0 && (
  <div className="bg-ds-white border border-orange-400 rounded-xl shadow-ds-lg p-6">
    <h3 className="text-2xl font-bold text-orange-700 mb-4 flex items-center gap-2">
      ğŸ“° Headline Suggestions (Daily Star Style)
      <span className="text-xs font-normal bg-orange-700 text-white px-2 py-1 rounded">NEW!</span>
    </h3>

    <div className="bg-yellow-50 border border-yellow-300 p-4 rounded mb-4">
      <h4 className="font-bold text-yellow-800">Current Headline Analysis</h4>
      <div className="text-lg font-semibold mt-2">{result.headlines.currentHeadline.text}</div>
      <div className="text-2xl font-bold text-yellow-700 mt-2">
        Score: {result.headlines.currentHeadline.analysis.score}/100
      </div>
      {result.headlines.currentHeadline.analysis.strengths && result.headlines.currentHeadline.analysis.strengths.length > 0 && (
        <div className="mt-2">
          <strong className="text-xs">Strengths:</strong>
          {result.headlines.currentHeadline.analysis.strengths.map((s, i) => (
            <div key={i} className="text-sm">âœ… {s}</div>
          ))}
        </div>
      )}
      {result.headlines.currentHeadline.analysis.weaknesses && result.headlines.currentHeadline.analysis.weaknesses.length > 0 && (
        <div className="mt-2">
          <strong className="text-xs">Improvements:</strong>
          {result.headlines.currentHeadline.analysis.weaknesses.map((w, i) => (
            <div key={i} className="text-sm">âš ï¸ {w}</div>
          ))}
        </div>
      )}
    </div>

    <h4 className="font-bold text-orange-700 mb-3">ğŸ¯ Recommended Variants:</h4>
    <div className="space-y-3">
      {result.headlines.variants.slice(0, 8).map((variant, i) => (
        <div key={i} className="bg-orange-50 border border-orange-200 p-3 rounded hover:border-orange-400 transition-colors">
          <div className="flex items-start justify-between gap-3">
            <div className="flex-1">
              <div className="font-semibold text-ds-dark mb-2">{variant.headline}</div>
              <div className="flex flex-wrap gap-2">
                <span className="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded font-medium">
                  SEO: {variant.seoScore}/100
                </span>
                <span className="text-xs bg-green-100 text-green-700 px-2 py-1 rounded font-medium">
                  CTR: {variant.clickabilityScore}/100
                </span>
                <span className="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded font-medium">
                  DS Style: {variant.dailyStarCompliance}/100
                </span>
                <span className="text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded capitalize">
                  {variant.style}
                </span>
                <span className="text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded">
                  {variant.length} chars
                </span>
              </div>
              {variant.explanation && (
                <div className="text-xs text-gray-600 mt-2 italic">{variant.explanation}</div>
              )}
            </div>
            <button
              onClick={() => {
                navigator.clipboard.writeText(variant.headline);
                alert('âœ… Headline copied!');
              }}
              className="ml-2 text-sm bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded transition-colors flex-shrink-0"
            >
              Copy
            </button>
          </div>
        </div>
      ))}
    </div>

    {result.headlines.recommendations && (
      <div className="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3">
        <div className="bg-green-50 border border-green-200 p-3 rounded">
          <div className="text-xs font-bold text-green-700">ğŸ† Best Overall</div>
          <div className="text-sm mt-1">{result.headlines.recommendations.bestOverall}</div>
        </div>
        <div className="bg-blue-50 border border-blue-200 p-3 rounded">
          <div className="text-xs font-bold text-blue-700">ğŸ¯ Best for SEO</div>
          <div className="text-sm mt-1">{result.headlines.recommendations.bestForSEO}</div>
        </div>
      </div>
    )}
  </div>
)}

{/* URL Slug */}
{result.slug && (
  <div className="bg-ds-white border border-blue-400 rounded-xl shadow-ds-lg p-6">
    <h3 className="text-2xl font-bold text-blue-700 mb-4 flex items-center gap-2">
      ğŸ”— SEO-Optimized URL Slug
      <span className="text-xs font-normal bg-blue-700 text-white px-2 py-1 rounded">NEW!</span>
    </h3>

    <div className="bg-blue-50 border border-blue-300 p-4 rounded mb-4">
      <h4 className="font-bold text-blue-800 mb-2">Recommended Slug:</h4>
      <div className="flex items-center justify-between gap-3">
        <code className="text-sm font-mono bg-ds-white px-3 py-2 rounded border border-blue-200 flex-1 break-all">
          {result.slug.recommended}
        </code>
        <button
          onClick={() => {
            navigator.clipboard.writeText(result.slug!.recommended);
            alert('âœ… Slug copied!');
          }}
          className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition-colors flex-shrink-0"
        >
          Copy
        </button>
      </div>
      <div className="mt-3 grid grid-cols-2 md:grid-cols-4 gap-2 text-sm">
        <div><span className="text-blue-700 font-semibold">Length:</span> {result.slug.analysis.length} chars</div>
        <div><span className="text-blue-700 font-semibold">SEO Score:</span> {result.slug.analysis.seoScore}/100</div>
        <div><span className="text-blue-700 font-semibold">Readability:</span> {result.slug.analysis.readabilityScore}/100</div>
        <div><span className="text-blue-700 font-semibold">DS Format:</span> {result.slug.analysis.dailyStarFormat ? 'âœ…' : 'âš ï¸'}</div>
      </div>
      <div className="mt-2 text-xs text-blue-700">
        <strong>Full URL:</strong> {result.slug.structure.fullUrl}
      </div>
    </div>

    {result.slug.alternatives && result.slug.alternatives.length > 0 && (
      <details className="bg-gray-50 p-4 rounded border border-gray-200">
        <summary className="font-bold text-gray-700 cursor-pointer hover:text-gray-900">
          View Alternative Slugs ({result.slug.alternatives.length})
        </summary>
        <div className="mt-2 space-y-1">
          {result.slug.alternatives.map((alt, i) => (
            <div key={i} className="text-sm font-mono bg-white p-2 rounded border">{alt}</div>
          ))}
        </div>
      </details>
    )}
  </div>
)}

{/* Content Quality Analysis */}
{result.contentQuality && (
  <div className="bg-ds-white border border-teal-400 rounded-xl shadow-ds-lg p-6">
    <h3 className="text-2xl font-bold text-teal-700 mb-4 flex items-center gap-2">
      âœ… Content Quality Analysis
      <span className="text-xs font-normal bg-teal-700 text-white px-2 py-1 rounded">NEW!</span>
    </h3>

    <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4">
      <div className="bg-teal-50 border border-teal-200 p-3 rounded text-center">
        <div className="text-xs text-teal-700">Overall Score</div>
        <div className="text-3xl font-bold text-teal-600">{result.contentQuality.overallScore}/100</div>
      </div>
      <div className="bg-blue-50 border border-blue-200 p-3 rounded text-center">
        <div className="text-xs text-blue-700">Readability</div>
        <div className="text-lg font-bold text-blue-600">{result.contentQuality.readability.readingLevel}</div>
        <div className="text-xs text-blue-600">{result.contentQuality.readability.readingTime} min read</div>
      </div>
      <div className="bg-green-50 border border-green-200 p-3 rounded text-center">
        <div className="text-xs text-green-700">Word Count</div>
        <div className="text-xl font-bold text-green-600">{result.contentQuality.depth.wordCount}</div>
        <div className="text-xs text-green-600">{result.contentQuality.depth.optimalWordCount}</div>
      </div>
      <div className="bg-purple-50 border border-purple-200 p-3 rounded text-center">
        <div className="text-xs text-purple-700">SEO Health</div>
        <div className="text-xl font-bold text-purple-600">{result.contentQuality.seo.seoHealthScore}/100</div>
      </div>
    </div>

    {result.contentQuality.issues && result.contentQuality.issues.length > 0 && (
      <div className="bg-yellow-50 border border-yellow-300 p-4 rounded mb-4">
        <h4 className="font-bold text-yellow-800 mb-2">âš ï¸ Issues Found ({result.contentQuality.issues.length}):</h4>
        <div className="space-y-2 max-h-64 overflow-y-auto">
          {result.contentQuality.issues.slice(0, 10).map((issue, i) => (
            <div key={i} className="text-sm">
              <span className={`font-bold ${
                issue.severity === 'critical' ? 'text-red-600' :
                issue.severity === 'error' ? 'text-orange-600' :
                issue.severity === 'warning' ? 'text-yellow-600' :
                'text-blue-600'
              }`}>
                [{issue.severity.toUpperCase()}]
              </span> {issue.message}
              <div className="text-xs text-gray-600 ml-6 mt-1">ğŸ’¡ Fix: {issue.fix}</div>
            </div>
          ))}
        </div>
      </div>
    )}

    {result.contentQuality.recommendations && result.contentQuality.recommendations.length > 0 && (
      <div className="bg-teal-50 border border-teal-200 p-4 rounded">
        <h4 className="font-bold text-teal-700 mb-2">ğŸ’¡ Recommendations ({result.contentQuality.recommendations.length}):</h4>
        <div className="space-y-1 max-h-48 overflow-y-auto">
          {result.contentQuality.recommendations.slice(0, 8).map((rec, i) => (
            <div key={i} className="text-sm">
              <span className={`font-semibold ${
                rec.priority === 'high' ? 'text-red-600' :
                rec.priority === 'medium' ? 'text-yellow-600' :
                'text-blue-600'
              }`}>[{rec.priority.toUpperCase()}]</span> {rec.recommendation}
            </div>
          ))}
        </div>
      </div>
    )}
  </div>
)}

{/* AI Overview Optimization */}
{result.aiOverview && (
  <div className="bg-ds-white border border-indigo-400 rounded-xl shadow-ds-lg p-6">
    <h3 className="text-2xl font-bold text-indigo-700 mb-4 flex items-center gap-2">
      ğŸ¤– AI Overview Optimization (Google SGE)
      <span className="text-xs font-normal bg-indigo-700 text-white px-2 py-1 rounded">NEW!</span>
    </h3>

    <div className="bg-indigo-50 border border-indigo-300 p-4 rounded mb-4">
      <h4 className="font-bold text-indigo-800">AI Readiness Score</h4>
      <div className="text-4xl font-bold text-indigo-600 mt-2">
        {result.aiOverview.aiReadiness.overallScore}/100
      </div>
      <div className={`mt-2 font-bold ${
        result.aiOverview.aiOverviewTargeting.eligibility ? 'text-green-600' : 'text-orange-600'
      }`}>
        {result.aiOverview.aiOverviewTargeting.eligibility
          ? 'âœ… Eligible for AI Overview'
          : 'âš ï¸ Needs Optimization for AI Overview'}
      </div>
    </div>

    {result.aiOverview.peopleAlsoAsk && result.aiOverview.peopleAlsoAsk.length > 0 && (
      <div className="bg-blue-50 border border-blue-200 p-4 rounded mb-4">
        <h4 className="font-bold text-blue-800 mb-2">ğŸ” People Also Ask (PAA) Opportunities:</h4>
        <div className="space-y-2 max-h-64 overflow-y-auto">
          {result.aiOverview.peopleAlsoAsk.slice(0, 5).map((paa, i) => (
            <div key={i} className="text-sm">
              <div className="font-semibold text-blue-700">{paa.question}</div>
              <div className="text-xs text-gray-600 ml-4 mt-1">
                Confidence: {paa.confidence}% | Probability: {paa.probability}%
              </div>
            </div>
          ))}
        </div>
      </div>
    )}

    <div className="grid grid-cols-2 md:grid-cols-4 gap-2 mb-4">
      <div className="bg-ds-white border p-2 rounded text-center">
        <div className="text-xs text-gray-600">Experience</div>
        <div className="font-bold text-indigo-600">{result.aiOverview.eeat.experience.score}/100</div>
      </div>
      <div className="bg-ds-white border p-2 rounded text-center">
        <div className="text-xs text-gray-600">Expertise</div>
        <div className="font-bold text-indigo-600">{result.aiOverview.eeat.expertise.score}/100</div>
      </div>
      <div className="bg-ds-white border p-2 rounded text-center">
        <div className="text-xs text-gray-600">Authoritativeness</div>
        <div className="font-bold text-indigo-600">{result.aiOverview.eeat.authoritativeness.score}/100</div>
      </div>
      <div className="bg-ds-white border p-2 rounded text-center">
        <div className="text-xs text-gray-600">Trustworthiness</div>
        <div className="font-bold text-indigo-600">{result.aiOverview.eeat.trustworthiness.score}/100</div>
      </div>
    </div>

    {result.aiOverview.improvements && result.aiOverview.improvements.length > 0 && (
      <details className="bg-gray-50 p-4 rounded border border-gray-200">
        <summary className="font-bold text-gray-700 cursor-pointer hover:text-gray-900">
          View Improvement Suggestions ({result.aiOverview.improvements.length})
        </summary>
        <div className="mt-2 space-y-2">
          {result.aiOverview.improvements.slice(0, 5).map((imp, i) => (
            <div key={i} className="text-sm">
              <span className={`font-bold ${
                imp.priority === 'critical' ? 'text-red-600' :
                imp.priority === 'high' ? 'text-orange-600' :
                'text-yellow-600'
              }`}>[{imp.priority.toUpperCase()}]</span> {imp.suggestion}
            </div>
          ))}
        </div>
      </details>
    )}
  </div>
)}

{/* Internal Linking Suggestions */}
{result.internalLinking && result.internalLinking.recommendedLinks && result.internalLinking.recommendedLinks.length > 0 && (
  <div className="bg-ds-white border border-green-400 rounded-xl shadow-ds-lg p-6">
    <h3 className="text-2xl font-bold text-green-700 mb-4 flex items-center gap-2">
      ğŸ”— Internal Linking Suggestions
      <span className="text-xs font-normal bg-green-700 text-white px-2 py-1 rounded">NEW!</span>
    </h3>

    <div className="space-y-3 max-h-96 overflow-y-auto">
      {result.internalLinking.recommendedLinks.slice(0, 10).map((link, i) => (
        <div key={i} className="bg-green-50 border border-green-200 p-3 rounded hover:border-green-400 transition-colors">
          <div className="flex items-start justify-between">
            <div className="flex-1">
              <div className="font-semibold text-green-800">"{link.anchorText}"</div>
              <div className="text-sm text-gray-600 mt-1">â†’ {link.targetUrl}</div>
              <div className="flex gap-2 mt-2 text-xs">
                <span className="bg-blue-100 text-blue-700 px-2 py-1 rounded">
                  Relevance: {link.relevanceScore}/100
                </span>
                <span className="bg-purple-100 text-purple-700 px-2 py-1 rounded capitalize">
                  {link.placement}
                </span>
                <span className="bg-gray-100 text-gray-700 px-2 py-1 rounded">
                  {link.category}
                </span>
              </div>
              <div className="text-xs text-gray-600 mt-1 italic">{link.reason}</div>
            </div>
          </div>
        </div>
      ))}
    </div>

    {result.internalLinking.strategy && (
      <div className="mt-4 bg-gray-50 border border-gray-200 p-3 rounded">
        <div className="text-sm">
          <strong>Internal Link Score:</strong> {result.internalLinking.strategy.internalLinkScore}/100
        </div>
        <div className="text-sm mt-1">
          <strong>Total Suggested:</strong> {result.internalLinking.strategy.totalSuggestedLinks} links
        </div>
      </div>
    )}
  </div>
)}

{/* ğŸ†• NEW FEATURES END HERE */}
